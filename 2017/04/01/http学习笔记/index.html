<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="网络层," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="http的请求分成了三部分：请求行，请求头和请求正文
POST /index.php HTTP/1.1
Host: localhost
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2
Accept: text/html,application/xhtml+xml,applicati">
<meta property="og:type" content="article">
<meta property="og:title" content="http学习笔记">
<meta property="og:url" content="http://yoursite.com/2017/04/01/http学习笔记/index.html">
<meta property="og:site_name" content="Jakcy’s Blog">
<meta property="og:description" content="http的请求分成了三部分：请求行，请求头和请求正文
POST /index.php HTTP/1.1
Host: localhost
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2
Accept: text/html,application/xhtml+xml,applicati">
<meta property="og:updated_time" content="2017-04-11T04:09:09.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="http学习笔记">
<meta name="twitter:description" content="http的请求分成了三部分：请求行，请求头和请求正文
POST /index.php HTTP/1.1
Host: localhost
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2
Accept: text/html,application/xhtml+xml,applicati">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/04/01/http学习笔记/"/>





  <title> http学习笔记 | Jakcy’s Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jakcy’s Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">第一个博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/01/http学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jacky Tian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jakcy’s Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                http学习笔记
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-01T15:42:34+08:00">
                2017-04-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>http的请求分成了三部分：请求行，请求头和请求正文<br><br></p>
<pre><code>POST /index.php HTTP/1.1
Host: localhost
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:10.0.2) Gecko/20100101 Firefox/10.0.2
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: zh-cn,zh;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
Referer: http://localhost/
Content-Length：25
Content-Type：application/x-www-form-urlencoded
username=aa&amp;password=1234
</code></pre><h1 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h1><h2 id="请求行"><a href="#请求行" class="headerlink" title="请求行"></a>请求行</h2><p>请求行的格式为“方法+URL+协议/版本”,回车换行作为结尾，以空格分割。例如<br><br>POST /index.php HTTP/1.1<br><br>以上代码中“GET”代表请求方法，“//ndex.php”表示URI，“HTTP/1.1代表协议和协议的版本。<br><br>URL完整地指定了要访问的网络资源，通常只要给出相对于服务器的根目录的相对目录即可，因此总是以“/”开头，最后，协议版本声明了通信过程中使用HTTP的版本。   </p>
</blockquote>
<p>请求方法简介：<br></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>请求获取由 Request-URI 所标识的资源</td>
</tr>
<tr>
<td>POST</td>
<td>请求服务器接收在请求中封装的实体，并将其作为由 Request-Line 中Request-URL所标识的资源的一部分</td>
</tr>
<tr>
<td>HEAD</td>
<td>请求获取由 Request-URI 所标识的资源的响应消息报头</td>
</tr>
<tr>
<td>PUT</td>
<td>请求服务器存储一个资源，并用 Request-URI 作为其标识符</td>
</tr>
<tr>
<td>DELETE</td>
<td>请求服务器删除由 Request-URI 所标识的资源</td>
</tr>
<tr>
<td>TRACE</td>
<td>请求服务器回送到的请求信息，主要用于测试或诊断</td>
</tr>
<tr>
<td>CONNECT</td>
<td>保留将来使用</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>请求查询服务器的性能，或者查询与资源相关的选项和需求</td>
</tr>
</tbody>
</table>
<h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><p>GET 方法用于获取由Request-URL所标识的资源的信息，常见的形式是：<br><br>GET Request-URI HTTP/1.1<br><br>GET方法是默认的HTTP请求方法，例如当我们通过在浏览器的地址栏中直接输入网址的方式去访问网页的时候，浏览器采用的就是 GET 方法向服务器获取资源。<br></p>
<p> 我们可以使用GET方法来提交表单数据，用GET方法提交的表单数据只经过了简单的编码，同时它将作为URL的一部分向服务器发送，因此，如果使用GET方法来提交表单数据就存在着安全隐患上。例如：<br><br>     Http://localhost/login.php?username=aa&amp;password=1234<br><br>    从上面的URL请求中，很容易就可以辩认出表单提交的内容。（？之后的内容）另外由于GET方法提交的数据是作为URL请求的一部分所以提交的数据量不能太大。这是因为浏览器对url的长度有限制<br><br>   各种浏览器也会对url的长度有所限制，下面是几种常见浏览器的url长度限制:(单位:字符)<br><br>      IE : 2803<br>    Firefox:65536<br>    Chrome:8182<br>    Safari:80000<br>    Opera:190000 </p>
<h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><p>POST方法是GET方法的一个替代方法，它主要是向Web服务器提交表单数据，尤其是大批量的数据。 在请求头信息结束之后的两个回车换行之后（实际是空一行），就是表单提交的数据。如上面提到的post表单数据：<br><br> username=aa&amp;password=1234<br><br>    POST方法克服了GET方法的一些缺点。通过POST方法提交表单数据时，数据不是作为URL请求的一部分而是作为标准数据传送给Web服务器，这就克服了GET方法中的信息无法保密和数据量太小的缺点。因此，出于安全的考虑以及对用户隐私的尊重，通常表单提交时采用POST方法。<br><br>    从编程的角度来讲，如果用户通过GET方法提交数据，则数据存放在QUERY＿STRING环境变量中，而POST方法提交的数据则可以从标准输入流中获取。<br></p>
<h4 id="GET和POST的区别"><a href="#GET和POST的区别" class="headerlink" title="GET和POST的区别"></a>GET和POST的区别</h4><ol>
<li>在客户端，Get方式在通过URL提交数据，数据在URL中可以看到；POST方式，数据放在HTTP包的body中。</li>
<li>GET方式提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST则没有此限制。</li>
<li>安全性问题。正如在（1）中提到，使用 Get 的时候，参数会显示在地址栏上，而 Post 不会。所以，如果这些数据是中文数据而且是非敏感数据，那么使用 get；如果用户输入的数据不是中文字符而且包含敏感数据，那么还是使用 post为好。</li>
<li>服务器取值方式不一样。GET方式取值，如php可以使用$_GET来取得变量的值，而POST方式通过$_POST来获取变量的值。</li>
</ol>
<h3 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h3><p>HEAD 方法与 GET 方法几乎是相同的，它们的区别在于 HEAD 方法只是请求消息报头，而不是完整的内容。对于 HEAD 请求的回应部分来说，它的 HTTP 头部中包含的信息与通过 GET 请求所得到的信息是相同的。利用这个方法，不必传输整个资源内容，就可以得到 Request-URI 所标识的资源的信息。这个方法通常被用于测试超链接的有效性，是否可以访问，以及最近是否更新。</p>
<h2 id="请求头"><a href="#请求头" class="headerlink" title="请求头"></a>请求头</h2><p>每个头域由一个域名，冒号（:）和域值三部分组成。域名是大小写无关的，域值前可以添加任何数量的空格符，头域可以被扩展为多行，在每行开始处，使用至少一个空格或制表符。</p>
<h3 id="Transport-头域"><a href="#Transport-头域" class="headerlink" title="Transport 头域"></a>Transport 头域</h3><h4 id="Connection："><a href="#Connection：" class="headerlink" title="Connection："></a>Connection：</h4><p>如果服务器看到这里的值为“Keep-Alive”，或者看到请求使用的是HTTP 1.1（HTTP 1.1默认进行持久连接）,它就可以利用持久连接的优点，当页面包含多个元素时（例如Applet，图片），显著地减少下载所需要的时间。要实现这一点，服务器需要在应答中发送一个Content-Length头，最简单的实现方法是：先把内容写入 ByteArrayOutputStream，然后在正式写出内容之前计算它的大小；</p>
<h4 id="Host（发送请求时，该报头域是必需的"><a href="#Host（发送请求时，该报头域是必需的" class="headerlink" title="Host（发送请求时，该报头域是必需的)"></a>Host（发送请求时，该报头域是必需的)</h4><p>Host请求报头域主要用于指定被请求资源的Internet主机和端口号，它通常从HTTP URL中提取出来的。<br><br>eg：<a href="http://；localhost/index.html" target="_blank" rel="external">http://；localhost/index.html</a><br><br>浏览器发送的请求消息中，就会包含Host请求报头域，如下：<br><br>Host：localhost<br><br>此处使用缺省端口号80，若指定了端口号8080，则变成：Host：localhost:8080<br></p>
<h3 id="Client-头域"><a href="#Client-头域" class="headerlink" title="Client 头域"></a>Client 头域</h3><h4 id="Accept："><a href="#Accept：" class="headerlink" title="Accept："></a>Accept：</h4><p>作用：浏览器可以接受的媒体类型（MIME类型）,</p>
<p>例如：  Accept: text/html  代表浏览器可以接受服务器回发的类型为 text/html  也就是我们常说的html文档, 如果服务器无法返回text/html类型的数据，服务器应该返回一个406错误(non acceptable)。</p>
<p>通配符 <em> 代表任意类型。例如  Accept: </em>/*  代表浏览器可以处理所有类型，(一般浏览器发给服务器都是发这个)</p>
<h4 id="Accept-Encoding："><a href="#Accept-Encoding：" class="headerlink" title="Accept-Encoding："></a>Accept-Encoding：</h4><p>作用： 浏览器申明自己接收的编码方法，通常指定压缩方法，是否支持压缩，支持什么压缩方法（gzip，deflate），（注意：这不是字符编码）;</p>
<p>例如： Accept-Encoding: gzip, deflate。Server能够向支持gzip/deflate的浏览器返回经gzip或者deflate编码的HTML页面。 许多情形下这可以减少5到10倍的下载时间，也节省带宽。</p>
<h4 id="Accept-Language："><a href="#Accept-Language：" class="headerlink" title="Accept-Language："></a>Accept-Language：</h4><p>作用： 浏览器申明自己接收的语言。 </p>
<p>语言跟字符集的区别：中文是语言，中文有多种字符集，比如big5，gb2312，gbk等等；</p>
<p>例如： Accept-Language:zh-cn 。如果请求消息中没有设置这个报头域，服务器假定客户端对各种语言都可以接受。</p>
<h4 id="User-Agent："><a href="#User-Agent：" class="headerlink" title="User-Agent："></a>User-Agent：</h4><p>作用：告诉HTTP服务器， 客户端使用的操作系统和浏览器的名称和版本.</p>
<p>我们上网登陆论坛的时候，往往会看到一些欢迎信息，其中列出了你的操作系统的名称和版本，你所使用的浏览器的名称和版本，这往往让很多人感到很神奇，实际上， 服务器应用程序就是从User-Agent这个请求报头域中获取到这些信息User-Agent请求报头域允许客户端将它的操作系统、浏览器和其它属性告诉服务器。</p>
<p>例如： User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; CIBA; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C; InfoPath.2; .NET4.0E)</p>
<h4 id="Accept-Charset："><a href="#Accept-Charset：" class="headerlink" title="Accept-Charset："></a>Accept-Charset：</h4><p>作用：浏览器申明自己接收的字符集，这就是本文前面介绍的各种字符集和字符编码，如gb2312，utf-8（通常我们说Charset包括了相应的字符编码方案）；</p>
<p>例如：Accept-Charset:iso-8859-1,gb2312.如果在请求消息中没有设置这个域，缺省是任何字符集都可以接受。</p>
<p>Authorization：授权信息，通常出现在对服务器发送的WWW-Authenticate头的应答中；</p>
<p>Authorization请求报头域主要用于证明客户端有权查看某个资源。当浏览器访问一个页面时，如果收到服务器的响应代码为401（未授权），可以发送一个包含Authorization请求报头域的请求，要求服务器对其进行验证。</p>
<h3 id="Cookie-Login-头域"><a href="#Cookie-Login-头域" class="headerlink" title="Cookie/Login 头域"></a>Cookie/Login 头域</h3><h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie:"></a>Cookie:</h4><p>作用： 最重要的header, 将cookie的值发送给HTTP 服务器</p>
<h3 id="Entity头域"><a href="#Entity头域" class="headerlink" title="Entity头域"></a>Entity头域</h3><h4 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length:"></a>Content-Length:</h4><p>作用：发送给HTTP服务器数据的长度。即请求消息正文的长度；</p>
<p>例如： Content-Length: 38</p>
<h4 id="Content-Type："><a href="#Content-Type：" class="headerlink" title="Content-Type："></a>Content-Type：</h4><p>作用：</p>
<p>例如：Content-Type: application/x-www-form-urlencoded</p>
<h3 id="Miscellaneous-头域"><a href="#Miscellaneous-头域" class="headerlink" title="Miscellaneous 头域"></a>Miscellaneous 头域</h3><h4 id="Refer"><a href="#Refer" class="headerlink" title="Refer:"></a>Refer:</h4><p>作用： 提供了Request的上下文信息的服务器，告诉服务器我是从哪个链接过来的，比如从我主页上链接到一个朋友那里， 他的服务器就能够从HTTP Referer中统计出每天有多少用户点击我主页上的链接访问    他的网站。</p>
<p>例如: Referer:<a href="http://translate.google.cn/?hl=zh-cn&amp;tab=wT" target="_blank" rel="external">http://translate.google.cn/?hl=zh-cn&amp;tab=wT</a></p>
<h3 id="Cache-头域"><a href="#Cache-头域" class="headerlink" title="Cache 头域"></a>Cache 头域</h3><h4 id="If-Modified-Since："><a href="#If-Modified-Since：" class="headerlink" title="If-Modified-Since："></a>If-Modified-Since：</h4><p>作用： 把浏览器端缓存页面的最后修改时间发送到服务器去，服务器会把这个时间与服务器上实际文件的最后修改时间进行对比。如果时间一致，那么返回304，客户端就直接使用本地缓存文件。如果时间不一致，就会返回200和新的文件内容。客户端接到之后，会丢弃旧文件，把新文件缓存起来，并显示在浏览器中。</p>
<p>例如：If-Modified-Since: Thu, 09 Feb 2012 09:07:57 GMT。</p>
<h4 id="If-Modified-Match："><a href="#If-Modified-Match：" class="headerlink" title="If-Modified-Match："></a>If-Modified-Match：</h4><p>作用: If-None-Match和ETag一起工作，工作原理是在HTTP Response中添加ETag信息。 当用户再次请求该资源时，将在HTTP Request 中加入If-None-Match信息(ETag的值)。如果服务器验证资源的ETag没有改变（该资源没有更新），将返回一个304状态告诉客户端使用本地缓存文件。否则将返回200状态和新的资源和Etag.  使用这样的机制将提高网站的性能</p>
<p>例如: If-None-Match: “03f2b33c0bfcc1:0”</p>
<h4 id="Pragma："><a href="#Pragma：" class="headerlink" title="Pragma："></a>Pragma：</h4><p>作用： 防止页面被缓存， 在HTTP/1.1版本中，它和Cache-Control:no-cache作用一模一样</p>
<p>Pargma只有一个用法， 例如： Pragma: no-cache</p>
<p>注意: 在HTTP/1.0版本中，只实现了Pragema:no-cache, 没有实现Cache-Control</p>
<h4 id="Cache-Control："><a href="#Cache-Control：" class="headerlink" title="Cache-Control："></a>Cache-Control：</h4><p>作用: 这个是非常重要的规则。 这个用来指定Response-Request遵循的缓存机制。各个指令含义如下</p>
<p>Cache-Control:Public   可以被任何缓存所缓存（）</p>
<p>Cache-Control:Private     内容只缓存到私有缓存中</p>
<p>Cache-Control:no-cache  所有内容都不会被缓存</p>
<h1 id="响应"><a href="#响应" class="headerlink" title="响应"></a>响应</h1><blockquote>
<p>响应也是由三部分祖成，状态行、消息报头、响应正文</p>
</blockquote>
<pre><code>在接收和解释请求消息后，服务器会返回一个 HTTP 响应消息。与 HTTP 请求类似，HTTP 响应也是由三个部分组成，分别是：状态行、消息报头和响应正文。如：

HTTP/1.1 200 OK
Date: Sun, 17 Mar 2013 08:12:54 GMT
Server: Apache/2.2.8 (Win32) PHP/5.2.5
X-Powered-By: PHP/5.2.5
Set-Cookie: PHPSESSID=c0huq7pdkmm5gg6osoe3mgjmm3; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Content-Length: 4393
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive
Content-Type: text/html; charset=utf-8


&lt;html&gt;
&lt;head&gt;
&lt;title&gt;HTTP响应示例&lt;title&gt;
&lt;/head&gt;
&lt;body&gt;
Hello HTTP!
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h2 id="状态行"><a href="#状态行" class="headerlink" title="状态行"></a>状态行</h2><blockquote>
<p>组成由协议版本数字形式+状态代码+状态描述 元素之间已空格分开<br><br>HTTP-Version + Status-Code + Reason-Phrase CRLF</p>
</blockquote>
<p>常用状态码解析：</p>
<ol>
<li>1xx：指示信息——表示请求已经接受，继续处理</li>
<li>2xx：成功——表示请求已经被成功接收、理解、接受。</li>
<li>3xx：重定向——要完成请求必须进行更进一步的操作</li>
<li>4xx：客户端错误——客户端请求有错误或请求无法实现</li>
<li>5xx：服务器端错误——服务器未能实现合法的请求。</li>
</ol>
<p>描述：</p>
<ol>
<li>200 OK      //客户端请求成功</li>
<li>303：重定向，即从原url重定向到新的url。 例如php 的hear函数header（”localtion:/index.php”）</li>
<li>400 Bad Request  //客户端请求有语法错误，不能被服务器所理解</li>
<li>401 Unauthorized //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用 </li>
<li>403 Forbidden  //服务器收到请求，但是拒绝提供服务，一般是服务器路径没有权限或者是其他权限相关问题</li>
<li>404 Not Found  //请求资源不存在，eg：输入了错误的URL</li>
<li>500 Internal Server Error //服务器发生不可预期的错误：一般来说，这个问题都会在服务器端的源代码出现错误时出现，比如出现死循环。</li>
<li>502 Bad Gateway//作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。比如LNMP ,php-fpm没有启动就会报502错误。</li>
<li>503 Server Unavailable  //服务器当前不能处理客户端的请求，一段时间后可能恢复正常，比如java 容器部署war的时候，就出现503</li>
<li>504 Gateway Time-out：作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URI标识出的服务器，例如HTTP、FTP、LDAP）或者辅助服务器（例如DNS）收到响应，比如nginx和php-fpm， php设置sleep（200），就会收到504 Gateway Time-out。注意：某些代理服务器在DNS查询超时时会返回400或者500错误</li>
</ol>
<h2 id="消息报头"><a href="#消息报头" class="headerlink" title="消息报头"></a>消息报头</h2><p>http常见的响应头如下所示：</p>
<h3 id="Cache头域"><a href="#Cache头域" class="headerlink" title="Cache头域"></a>Cache头域</h3><h4 id="Date："><a href="#Date：" class="headerlink" title="Date："></a>Date：</h4><p>作用：生成消息的具体时间和日期，即当前的GMT时间。</p>
<p>例如：　Date: Sun, 17 Mar 2013 08:12:54 GMT</p>
<h4 id="Expires："><a href="#Expires：" class="headerlink" title="Expires："></a>Expires：</h4><p>作用: 浏览器会在指定过期时间内使用本地缓存，指明应该在什么时候认为文档已经过期，从而不再缓存它。</p>
<p>例如: Expires: Thu, 19 Nov 1981 08:52:00 GMT　　</p>
<h4 id="Vary"><a href="#Vary" class="headerlink" title="Vary"></a>Vary</h4><p>作用：</p>
<p>例如: Vary: Accept-Encoding</p>
<h3 id="Cookie-Login-头域-1"><a href="#Cookie-Login-头域-1" class="headerlink" title="Cookie/Login 头域"></a>Cookie/Login 头域</h3><h4 id="P3P"><a href="#P3P" class="headerlink" title="P3P"></a>P3P</h4><p>作用: 用于跨域设置Cookie, 这样可以解决iframe跨域访问cookie的问题</p>
<p>例如: P3P: CP=CURa ADMa DEVa PSAo PSDo OUR BUS UNI PUR INT DEM STA PRE COM NAV OTC NOI DSP COR</p>
<p>Set-Cookie</p>
<p>作用： 非常重要的header, 用于把cookie 发送到客户端浏览器， 每一个写入cookie都会生成一个Set-Cookie.</p>
<p>例如: Set-Cookie: PHPSESSID=c0huq7pdkmm5gg6osoe3mgjmm3; path=/</p>
<h3 id="Entity实体头域："><a href="#Entity实体头域：" class="headerlink" title="Entity实体头域："></a>Entity实体头域：</h3><p>实体内容的属性，包括实体信息类型，长度，压缩方法，最后一次修改时间，数据有效性等</p>
<h4 id="ETag："><a href="#ETag：" class="headerlink" title="ETag："></a>ETag：</h4><p>作用:  和If-None-Match 配合使用。 （实例请看上节中If-None-Match的实例）</p>
<p>例如: ETag: “03f2b33c0bfcc1:0”</p>
<h4 id="Last-Modified："><a href="#Last-Modified：" class="headerlink" title="Last-Modified："></a>Last-Modified：</h4><p>作用： 用于指示资源的最后修改日期和时间。（实例请看上节的If-Modified-Since的实例）</p>
<p>例如: Last-Modified: Wed, 21 Dec 2011 09:09:10 GMT</p>
<h4 id="Content-Type：-1"><a href="#Content-Type：-1" class="headerlink" title="Content-Type："></a>Content-Type：</h4><p>作用：WEB服务器告诉浏览器自己响应的对象的类型和字符集,<br>例如:</p>
<p>   Content-Type: text/html; charset=utf-8</p>
<p>　　Content-Type:text/html;charset=GB2312</p>
<p>　　Content-Type: image/jpeg</p>
<h4 id="Content-Length："><a href="#Content-Length：" class="headerlink" title="Content-Length："></a>Content-Length：</h4><p>指明实体正文的长度，以字节方式存储的十进制数字来表示。在数据下行的过程中，Content-Length的方式要预先在服务器中缓存所有数据，然后所有数据再一股脑儿地发给客户端。</p>
<p>　　例如: Content-Length: 19847</p>
<h4 id="Content-Encoding："><a href="#Content-Encoding：" class="headerlink" title="Content-Encoding："></a>Content-Encoding：</h4><p>作用：文档的编码（Encode）方法。一般是压缩方式。</p>
<p>WEB服务器表明自己使用了什么压缩方法（gzip，deflate）压缩响应中的对象。利用gzip压缩文档能够显著地减少HTML文档的下载时间。</p>
<p>例如：Content-Encoding：gzip</p>
<h4 id="Content-Language："><a href="#Content-Language：" class="headerlink" title="Content-Language："></a>Content-Language：</h4><p>作用： WEB服务器告诉浏览器自己响应的对象的语言者</p>
<p>例如： Content-Language:da</p>
<h3 id="Miscellaneous-头域-1"><a href="#Miscellaneous-头域-1" class="headerlink" title="Miscellaneous 头域"></a>Miscellaneous 头域</h3><h4 id="Server："><a href="#Server：" class="headerlink" title="Server："></a>Server：</h4><p>作用：指明HTTP服务器的软件信息</p>
<p>例如:Apache/2.2.8 (Win32) PHP/5.2.5</p>
<h4 id="X-Powered-By："><a href="#X-Powered-By：" class="headerlink" title="X-Powered-By："></a>X-Powered-By：</h4><p>作用：表示网站是用什么技术开发的</p>
<p>例如： X-Powered-By: PHP/5.2.5</p>
<h3 id="Transport头域"><a href="#Transport头域" class="headerlink" title="Transport头域"></a>Transport头域</h3><h4 id="Connection：-1"><a href="#Connection：-1" class="headerlink" title="Connection："></a>Connection：</h4><p>例如：　Connection: keep-alive   当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭，如果客户端再次访问这个服务器上的网页，会继续使用这一条已经建立的连接</p>
<p>例如：  Connection: close  代表一个Request完成后，客户端和服务器之间用于传输HTTP数据的TCP连接会关闭， 当客户端再次发送Request，需要重新建立TCP连接。</p>
<h3 id="Location头域"><a href="#Location头域" class="headerlink" title="Location头域"></a>Location头域</h3><h4 id="Location："><a href="#Location：" class="headerlink" title="Location："></a>Location：</h4><p>作用： 用于重定向一个新的位置， 包含新的URL地址</p>
<p>实例请看304状态实例</p>
<font color="red">无状态是指协议对于事务处理没有记忆能力，服务器不知道客户端是什么状态。从另一方面讲，打开一个服务器上的网页和你之前打开这个服务器上的网页之间没有任何联系。<br><br>HTTP是一个无状态的面向连接的协议，无状态不代表HTTP不能保持TCP连接，更不能代表HTTP使用的是UDP协议（无连接）。<br><br>从HTTP/1.1起，默认都开启了Keep-Alive，保持连接特性，简单地说，当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭，如果客户端再次访问这个服务器上的网页，会继续使用这一条已经建立的连接。<br><br>Keep-Alive不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如Apache）中设定这个时间</font>

<h2 id="响应正文"><a href="#响应正文" class="headerlink" title="响应正文"></a>响应正文</h2><p>响应正文就是服务器返回的资源的内容，响应头和正文之间也必须用空行分隔。如：</p>
<pre><code>&lt;html&gt;  
&lt;head&gt;  
&lt;title&gt;HTTP响应示例&lt;title&gt;  
&lt;/head&gt;  
&lt;body&gt;  
Hello HTTP!  
&lt;/body&gt;  
&lt;/html&gt;  
</code></pre><p><a href="http://www.cnblogs.com/zery/p/5164795.html" target="_blank" rel="external">HTTPS详解</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/网络层/" rel="tag"># 网络层</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/28/nginx安装篇/" rel="next" title="nginx rtmp 安装篇">
                <i class="fa fa-chevron-left"></i> nginx rtmp 安装篇
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/05/iOS中图片的解压缩详解/" rel="prev" title="性能优化-iOS中图片的解压缩">
                性能优化-iOS中图片的解压缩 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Jacky Tian" />
          <p class="site-author-name" itemprop="name">Jacky Tian</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#请求"><span class="nav-number">1.</span> <span class="nav-text">请求</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#请求行"><span class="nav-number">1.1.</span> <span class="nav-text">请求行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GET"><span class="nav-number">1.1.1.</span> <span class="nav-text">GET</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#POST"><span class="nav-number">1.1.2.</span> <span class="nav-text">POST</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GET和POST的区别"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">GET和POST的区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HEAD"><span class="nav-number">1.1.3.</span> <span class="nav-text">HEAD</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#请求头"><span class="nav-number">1.2.</span> <span class="nav-text">请求头</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Transport-头域"><span class="nav-number">1.2.1.</span> <span class="nav-text">Transport 头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Connection："><span class="nav-number">1.2.1.1.</span> <span class="nav-text">Connection：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Host（发送请求时，该报头域是必需的"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">Host（发送请求时，该报头域是必需的)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Client-头域"><span class="nav-number">1.2.2.</span> <span class="nav-text">Client 头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept："><span class="nav-number">1.2.2.1.</span> <span class="nav-text">Accept：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Encoding："><span class="nav-number">1.2.2.2.</span> <span class="nav-text">Accept-Encoding：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Language："><span class="nav-number">1.2.2.3.</span> <span class="nav-text">Accept-Language：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#User-Agent："><span class="nav-number">1.2.2.4.</span> <span class="nav-text">User-Agent：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Accept-Charset："><span class="nav-number">1.2.2.5.</span> <span class="nav-text">Accept-Charset：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie-Login-头域"><span class="nav-number">1.2.3.</span> <span class="nav-text">Cookie/Login 头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">Cookie:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Entity头域"><span class="nav-number">1.2.4.</span> <span class="nav-text">Entity头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Length"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">Content-Length:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Type："><span class="nav-number">1.2.4.2.</span> <span class="nav-text">Content-Type：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Miscellaneous-头域"><span class="nav-number">1.2.5.</span> <span class="nav-text">Miscellaneous 头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Refer"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">Refer:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cache-头域"><span class="nav-number">1.2.6.</span> <span class="nav-text">Cache 头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#If-Modified-Since："><span class="nav-number">1.2.6.1.</span> <span class="nav-text">If-Modified-Since：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#If-Modified-Match："><span class="nav-number">1.2.6.2.</span> <span class="nav-text">If-Modified-Match：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Pragma："><span class="nav-number">1.2.6.3.</span> <span class="nav-text">Pragma：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cache-Control："><span class="nav-number">1.2.6.4.</span> <span class="nav-text">Cache-Control：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#响应"><span class="nav-number">2.</span> <span class="nav-text">响应</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#状态行"><span class="nav-number">2.1.</span> <span class="nav-text">状态行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#消息报头"><span class="nav-number">2.2.</span> <span class="nav-text">消息报头</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Cache头域"><span class="nav-number">2.2.1.</span> <span class="nav-text">Cache头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Date："><span class="nav-number">2.2.1.1.</span> <span class="nav-text">Date：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Expires："><span class="nav-number">2.2.1.2.</span> <span class="nav-text">Expires：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Vary"><span class="nav-number">2.2.1.3.</span> <span class="nav-text">Vary</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie-Login-头域-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">Cookie/Login 头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#P3P"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">P3P</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Entity实体头域："><span class="nav-number">2.2.3.</span> <span class="nav-text">Entity实体头域：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ETag："><span class="nav-number">2.2.3.1.</span> <span class="nav-text">ETag：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Last-Modified："><span class="nav-number">2.2.3.2.</span> <span class="nav-text">Last-Modified：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Type：-1"><span class="nav-number">2.2.3.3.</span> <span class="nav-text">Content-Type：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Length："><span class="nav-number">2.2.3.4.</span> <span class="nav-text">Content-Length：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Encoding："><span class="nav-number">2.2.3.5.</span> <span class="nav-text">Content-Encoding：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Language："><span class="nav-number">2.2.3.6.</span> <span class="nav-text">Content-Language：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Miscellaneous-头域-1"><span class="nav-number">2.2.4.</span> <span class="nav-text">Miscellaneous 头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Server："><span class="nav-number">2.2.4.1.</span> <span class="nav-text">Server：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#X-Powered-By："><span class="nav-number">2.2.4.2.</span> <span class="nav-text">X-Powered-By：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Transport头域"><span class="nav-number">2.2.5.</span> <span class="nav-text">Transport头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Connection：-1"><span class="nav-number">2.2.5.1.</span> <span class="nav-text">Connection：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Location头域"><span class="nav-number">2.2.6.</span> <span class="nav-text">Location头域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Location："><span class="nav-number">2.2.6.1.</span> <span class="nav-text">Location：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#响应正文"><span class="nav-number">2.3.</span> <span class="nav-text">响应正文</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jacky Tian</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  






  





  

  

  

  

</body>
</html>
